<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>K-pop çŒœäººéŠæˆ²</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #f8f8f8;
      padding: 20px;
    }
    #game {
      max-width: 360px;
      margin: auto;
      padding: 20px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 15px;
    }
    button {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      background: #ff4f8b;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #ff346f;
    }
    #result {
      margin-top: 12px;
      font-size: 18px;
    }
  </style>
</head>
<body>

<div id="game">
  <h2>çŒœçŒœé€™ä½ K-pop å¶åƒæ˜¯èª°ï¼Ÿ</h2>
  <div id="question"></div>
  <div id="options"></div>
  <div id="result"></div>
</div>

<script>
  // -----------------------------------
  // ä½ çš„é¡Œåº«ï¼ˆè«‹æŠŠä½ å…¨éƒ¨çš„è²¼é€²ä¾†ï¼‰
  // -----------------------------------
  const questions = [
    { img: "img/sample1.jpg", name: "Lisa" },
    { img: "img/sample2.jpg", name: "Jungkook" },
    { img: "img/sample3.jpg", name: "Karina" },
    // â† é€™è£¡å…¨éƒ¨æ›æˆä½ çš„é¡Œåº«
  ];

  let roundQuestions = [];
  let qIndex = 0;
  let score = 0;

  // éš¨æ©Ÿé¸å– 10 é¡Œ
  function setupGame() {
    roundQuestions = [...questions]
      .sort(() => Math.random() - 0.5)
      .slice(0, 10);
    qIndex = 0;
    score = 0;
    loadQuestion();
  }

  // é¡¯ç¤ºé¡Œç›®
  function loadQuestion() {
    const q = roundQuestions[qIndex];
    document.getElementById("result").innerHTML = "";
    document.getElementById("question").innerHTML = `
      <img src="${q.img}" alt="">
    `;

    // ç”¢ç”Ÿé¸é …
    let options = [q.name];
    while (options.length < 4) {
      const rand = questions[Math.floor(Math.random() * questions.length)].name;
      if (!options.includes(rand)) options.push(rand);
    }
    options.sort(() => Math.random() - 0.5);

    document.getElementById("options").innerHTML =
      options.map(opt => `<button onclick="checkAnswer('${opt}')">${opt}</button>`).join("");
  }

  // åˆ¤æ–·ç­”æ¡ˆ
  function checkAnswer(choice) {
    const correct = roundQuestions[qIndex].name;

    document.getElementById("options").innerHTML = "";

    let message = "";
    if (choice === correct) {
      score++;
      message = `âœ”ï¸ ä½ ç­”å°äº†ï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${correct}`;
    } else {
      message = `âŒ å¯æƒœï¼ä½ é¸çš„æ˜¯ï¼š${choice}<br>æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${correct}`;
    }

    document.getElementById("result").innerHTML = `<p>${message}</p>`;

    qIndex++;

    setTimeout(() => {
      if (qIndex >= 10) {
        endGame();
      } else {
        loadQuestion();
      }
    }, 1500);
  }

  // çµæŸç•«é¢
  function endGame() {
    let msg = "";
    if (score <= 3) msg = `ğŸ™‚ æ²’é—œä¿‚ï¼ä½ ç­”å°äº† ${score}/10ï¼Œä¸‹æ¬¡å†è©¦è©¦ï½`;
    else if (score <= 7) msg = `âœ¨ ä¸éŒ¯å–”ï¼ä½ ç­”å°äº† ${score}/10ï¼`;
    else msg = `ğŸ”¥ è¶…å¼·ï¼ä½ ç­”å°äº† ${score}/10ï¼ï¼`;

    document.getElementById("question").innerHTML = "";
    document.getElementById("options").innerHTML = "";
    document.getElementById("result").innerHTML = `<h3>${msg}</h3>`;

    // é‡æ–°é–‹å§‹æŒ‰éˆ•
    document.getElementById("result").innerHTML += `
      <br><button onclick="setupGame()">å†ç©ä¸€æ¬¡</button>
    `;
  }

  // éŠæˆ²é–‹å§‹
  setupGame();
</script>

</body>
</html>

