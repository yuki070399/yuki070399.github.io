<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>K-pop æˆå“¡çŒœè¬éŠæˆ²</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f1f5f9;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    button.option {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border: none;
      border-radius: 10px;
      background: #e5e7eb;
      cursor: pointer;
      font-size: 16px;
    }
    button.option:hover {
      background: #d1d5db;
    }
  </style>
</head>

<body>
  <div class="container">
    <h2>K-pop æˆå“¡çŒœè¬</h2>
    <div id="question"></div>
    <div id="options"></div>
    <div id="result" style="margin-top:15px;"></div>
    <button onclick="startGame()">é–‹å§‹æ–°å›åˆ</button>
  </div>

<script>
const data = [
  {
    name: "Karina",
    group: "aespa",
    debut: "2020",
    role: "éšŠé•· / ä¸»èˆ / å‰¯å”±",
    country: "éŸ“åœ‹",
    vibe: "å¼·å‹¢æœªä¾†æ„Ÿèˆå°",
    options: ["Karina", "Winter", "Ningning", "Giselle"]
  },
  {
    name: "Wonyoung",
    group: "IVE",
    debut: "2021",
    role: "Center / ä¸»å”±",
    country: "éŸ“åœ‹",
    vibe: "é«˜ç´šæ„Ÿèˆå°é­…åŠ›",
    options: ["Yujin", "Wonyoung", "Liz", "Leeseo"]
  }
];

let score = 0;
let qIndex = 0;
let roundQuestions = [];

function startGame() {
  score = 0;
  qIndex = 0;
  roundQuestions = [];
  document.getElementById("result").innerHTML = "";

  // éš¨æ©ŸæŠ½ 10 é¡Œ
  for (let i = 0; i < 10; i++) {
    const rand = data[Math.floor(Math.random() * data.length)];
    roundQuestions.push(rand);
  }

  loadQuestion();
}

function loadQuestion() {
  const q = roundQuestions[qIndex];
  document.getElementById("question").innerHTML = `
    <h3>ç¬¬ ${qIndex + 1} é¡Œ</h3>
    <p><b>å‡ºé“å¹´ä»½ï¼š</b> ${q.debut}</p>
    <p><b>èº«ä»½ï¼š</b> ${q.role}</p>
    <p><b>åœ‹å®¶ï¼š</b> ${q.country}</p>
    <p><b>èˆå°é¢¨æ ¼ï¼š</b> ${q.vibe}</p>
  `;

  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";

  q.options.forEach(opt => {
    const btn = document.createElement("button");
    btn.className = "option";
    btn.innerText = opt;
    btn.onclick = () => checkAnswer(opt);
    optionsDiv.appendChild(btn);
  });
}

function checkAnswer(choice) {
  const correct = roundQuestions[qIndex].name;

  // åœæ­¢å†æŒ‰å…¶ä»–é¸é …
  document.getElementById("options").innerHTML = "";

  let msg = "";
  if (choice === correct) {
    score++;
    msg = `âœ”ï¸ ä½ ç­”å°äº†ï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š<b>${correct}</b>`;
  } else {
    msg = `âŒ å¯æƒœï¼ä½ é¸çš„æ˜¯ï¼š${choice}<br>æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š<b>${correct}</b>`;
  }

  // **ç«‹åˆ»é¡¯ç¤ºçµæœ**
  document.getElementById("result").innerHTML = msg;

  // 1.3 ç§’å¾Œæ›ä¸‹ä¸€é¡Œ
  setTimeout(() => {
    qIndex++;
    if (qIndex >= 10) {
      endGame();
    } else {
      loadQuestion();
      document.getElementById("result").innerHTML = "";
    }
  }, 1300);
}

function endGame() {
  let msg = "";
  if (score <= 3)
    msg = `ğŸ™‚ æ²’é—œä¿‚ï¼ä½ ç­”å°äº† ${score}/10ï¼Œä¸‹å›åˆå†æŒ‘æˆ°å§ï¼`;
  else if (score <= 7)
    msg = `âœ¨ ä¸éŒ¯å–”ï¼ä½ ç­”å°äº† ${score}/10 â€” ä½ é›¢ K-pop é”äººè¶Šä¾†è¶Šè¿‘äº†ï¼`;
  else
    msg = `ğŸ”¥ å¤ªå¼·äº†ï¼ä½ ç­”å°äº† ${score}/10 â€” K-pop å¤§å¸«ç­‰ç´šï¼`;

  document.getElementById("question").innerHTML = "";
  document.getElementById("options").innerHTML = "";
  document.getElementById("result").innerHTML = `<h3>${msg}</h3>`;
}
</script>
</body>
</html>
